(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{422:function(s,a,t){"use strict";t.r(a);var e=t(56),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"在linux下使用selenium-chrome-chromedriver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在linux下使用selenium-chrome-chromedriver"}},[s._v("#")]),s._v(" 在Linux下使用selenium+ Chrome + Chromedriver")]),s._v(" "),t("h2",{attrs:{id:"_1-安装selenium"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装selenium"}},[s._v("#")]),s._v(" 1.安装selenium")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" selenium \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("![image-20211225005214768](在Linux下使用selenium+ Chrome + Chromedriver.assets/image-20211225005214768.png)")]),s._v(" "),t("h2",{attrs:{id:"_2-安装chrome"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装chrome"}},[s._v("#")]),s._v(" 2.安装chrome")]),s._v(" "),t("p",[s._v("用下面的命令安装Google Chrome")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("安装必要的库")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mesa-libOSMesa-devel gnu-free-sans-fonts wqy-zenhei-fonts\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_3、安装-chromedriver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装-chromedriver"}},[s._v("#")]),s._v(" 3、安装 chromedriver")]),s._v(" "),t("p",[s._v("查看安装谷歌浏览器办版本号:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("google-chrome --version\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看相应版本的谷歌浏览器对应的驱动版本")]),s._v(" "),t("p",[s._v("http://chromedriver.storage.googleapis.com/index.html")]),s._v(" "),t("p",[s._v("下载后，解压。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("unzip chromedriver_linux64.zip\n \nmv chromedriver /usr/bin/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_4、运行代码-查看是否成功-python下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、运行代码-查看是否成功-python下"}},[s._v("#")]),s._v(" 4、运行代码，查看是否成功（python下）")]),s._v(" "),t("p",[s._v("进入ipython环境或者直接python3")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("python3\n \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" selenium "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" webdriver\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" selenium"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webdriver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chrome"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Options\nchrome_options "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nchrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_argument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'--no-sandbox'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nchrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_argument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'--disable-dev-shm-usage'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nchrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_argument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'--headless'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nbrowser "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" webdriver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Chrome"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("chrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \n"),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("'''\n其他提高性能参数\n'''")]),s._v("\nchrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_argument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blink-settings=imagesEnabled=false'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nchrome_options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_argument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'--disable-gpu'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("其中\n“–no-sandbox”参数是让Chrome在root权限下跑\n“–headless”参数是不用打开图形界面")]),s._v(" "),t("p",[s._v("注意一定要设置无界面，不然会报错")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("selenium.common.exceptions.WebDriverException: Message: unknown error: Chrome failed to start: exited abnormally\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unknown error: DevToolsActivePort "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" doesn't exist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_5-如果报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-如果报错"}},[s._v("#")]),s._v(" 5.如果报错:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Driver info: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chromedriver")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.41")]),s._v(".578700 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2f1ed5f9343c13f73144538f15c00b370eda6706"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",platform"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Linux "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-957.5.1.el7.x86_64 x86_64"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[s._v("#")]),s._v(" 原因：")]),s._v(" "),t("p",[s._v("1.chromedriver没有安装")]),s._v(" "),t("p",[s._v("2.chromedriver的版本和chrom浏览器的版本不对应")]),s._v(" "),t("p",[s._v("因为我们已经安装过了，所以很明显是原因2，所以自己去找到和谷歌浏览器相应的chromedriver吧.")])])}),[],!1,null,null,null);a.default=n.exports}}]);